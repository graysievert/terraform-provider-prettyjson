---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "jsonprettyprint function - prettyjson"
subcategory: ""
description: |-
  Pretty-print JSON with configurable indentation
---

# function: jsonprettyprint

Formats JSON strings with configurable indentation styles for improved readability.

## Overview

This function takes a JSON string and returns a formatted version with consistent indentation and line breaks. It validates the input JSON syntax and provides detailed error messages for invalid input.

## Supported Indentation Types

- **2spaces** (default): Two-space indentation, commonly used in JavaScript and many style guides
- **4spaces**: Four-space indentation, popular in Python and many enterprise coding standards  
- **tab**: Tab character indentation, preferred by some development teams

## Input Validation

- Validates JSON syntax using Go's built-in JSON parser
- Checks for empty input and provides helpful error messages
- Enforces maximum input size limit (10MB) for performance and memory safety
- Logs performance warnings for large inputs (>1MB)

## Error Handling

Provides comprehensive error messages for:
- Invalid JSON syntax with remediation suggestions
- Invalid indentation type parameters
- Empty input validation
- Size limit enforcement
- JSON formatting failures



## Signature

<!-- signature generated by tfplugindocs -->
```text
jsonprettyprint(json_string string, indentation_type string...) string
```

## Arguments

<!-- arguments generated by tfplugindocs -->
1. `json_string` (String) The JSON string to format and pretty-print.

**Requirements:**
- Must be valid JSON syntax
- Cannot be empty
- Maximum size: 10MB
- Supports all JSON data types (objects, arrays, strings, numbers, booleans, null)

**Examples:**
- Simple object: `{"name":"value"}`
- Complex nested: `{"app":{"name":"test","config":{"debug":true}}}`
- Array: `[{"id":1},{"id":2}]`

**Validation:**
The function performs comprehensive JSON validation and will return detailed error messages for syntax issues such as:
- Missing quotes around strings
- Trailing commas
- Unescaped characters
- Mismatched brackets or braces
<!-- variadic argument generated by tfplugindocs -->
1. `indentation_type` (Variadic, String, Nullable) Optional parameter to specify the indentation style for formatting.

**Valid Options:**
- `"2spaces"` (default) - Two-space indentation
- `"4spaces"` - Four-space indentation
- `"tab"` - Tab character indentation

**Default Behavior:**
If not specified, defaults to `"2spaces"` indentation.

**Examples:**
- `provider::prettyjson::jsonprettyprint(json_string)` - Uses default 2-space indentation
- `provider::prettyjson::jsonprettyprint(json_string, "4spaces")` - Uses 4-space indentation
- `provider::prettyjson::jsonprettyprint(json_string, "tab")` - Uses tab indentation

**Error Handling:**
Invalid indentation types will result in a clear error message listing valid options.

## Examples

### Basic Usage

```terraform
# Simple JSON formatting with default 2-space indentation
resource "local_file" "config" {
  content = provider::prettyjson::jsonprettyprint(
    jsonencode({
      app_name = "my-application"
      version  = "1.0.0"
      enabled  = true
    })
  )
  filename = "config.json"
}
```

### Custom Indentation

```terraform
# Using 4-space indentation
resource "local_file" "config_4spaces" {
  content = provider::prettyjson::jsonprettyprint(
    jsonencode({
      database = {
        host = "localhost"
        port = 5432
      }
    }),
    "4spaces"
  )
  filename = "database-config.json"
}

# Using tab indentation
resource "local_file" "config_tabs" {
  content = provider::prettyjson::jsonprettyprint(
    jsonencode({
      services = ["web", "api", "worker"]
    }),
    "tab"
  )
  filename = "services-config.json"
}
```

### Complex Nested Structures

```terraform
locals {
  app_config = {
    application = {
      name = "web-service"
      environment = "production"
      features = {
        logging   = true
        metrics   = true
        debugging = false
      }
    }
    database = {
      host      = "db.example.com"
      port      = 5432
      ssl       = true
      pool_size = 20
    }
  }
}

resource "local_file" "complex_config" {
  content = provider::prettyjson::jsonprettyprint(
    jsonencode(local.app_config),
    "2spaces"
  )
  filename = "application-config.json"
}
```

### Dynamic Configuration

```terraform
# Generate environment-specific configurations
resource "local_file" "env_configs" {
  for_each = toset(["dev", "staging", "prod"])
  
  content = provider::prettyjson::jsonprettyprint(
    jsonencode({
      environment = each.key
      debug_mode  = each.key != "prod"
      log_level   = each.key == "prod" ? "warn" : "debug"
    }),
    "2spaces"
  )
  
  filename = "${each.key}-config.json"
}
```

## Error Handling

The function provides comprehensive error handling:

- **Invalid JSON**: Clear error messages for syntax issues
- **Invalid Indentation**: Validation of indentation type parameter  
- **Size Limits**: Protection against excessive memory usage (10MB max)
- **Empty Input**: Validation against empty JSON strings

## Performance Notes

- Maximum input size: 10MB
- Warning threshold: 1MB (logs performance warning)
- Optimized for typical configuration file sizes
- Efficient JSON validation and formatting

## Best Practices

1. **Validate JSON**: Ensure your JSON is valid before formatting
2. **Choose Consistent Indentation**: Use the same indentation style across your project
3. **Consider File Size**: Split very large JSON into smaller files
4. **Use with Local Files**: Pairs well with `local_file` resource

## Troubleshooting

**Error: "Invalid JSON syntax detected"**
- Verify JSON syntax with a validator
- Check for missing quotes, trailing commas, or unescaped characters

**Error: "Invalid indentation type"**  
- Valid options: `"2spaces"`, `"4spaces"`, `"tab"`
- Check spelling and quotes

**Error: "JSON input cannot be empty"**
- Ensure input string is not empty
- Verify `jsonencode()` produces valid output

## Examples

### Basic Usage

```terraform
# Simple JSON formatting with default 2-space indentation
resource "local_file" "config" {
  content = provider::prettyjson::jsonprettyprint(
    jsonencode({
      app_name = "my-application"
      version  = "1.0.0"
      enabled  = true
    })
  )
  filename = "config.json"
}
```

### Custom Indentation

```terraform
# Using 4-space indentation
resource "local_file" "config_4spaces" {
  content = provider::prettyjson::jsonprettyprint(
    jsonencode({
      database = {
        host = "localhost"
        port = 5432
      }
    }),
    "4spaces"
  )
  filename = "database-config.json"
}

# Using tab indentation
resource "local_file" "config_tabs" {
  content = provider::prettyjson::jsonprettyprint(
    jsonencode({
      services = ["web", "api", "worker"]
    }),
    "tab"
  )
  filename = "services-config.json"
}
```

### Complex Nested Structures

```terraform
locals {
  app_config = {
    application = {
      name = "web-service"
      environment = "production"
      features = {
        logging   = true
        metrics   = true
        debugging = false
      }
    }
    database = {
      host      = "db.example.com"
      port      = 5432
      ssl       = true
      pool_size = 20
    }
  }
}

resource "local_file" "complex_config" {
  content = provider::prettyjson::jsonprettyprint(
    jsonencode(local.app_config),
    "2spaces"
  )
  filename = "application-config.json"
}
```

### Dynamic Configuration

```terraform
# Generate environment-specific configurations
resource "local_file" "env_configs" {
  for_each = toset(["dev", "staging", "prod"])
  
  content = provider::prettyjson::jsonprettyprint(
    jsonencode({
      environment = each.key
      debug_mode  = each.key != "prod"
      log_level   = each.key == "prod" ? "warn" : "debug"
    }),
    "2spaces"
  )
  
  filename = "${each.key}-config.json"
}
```

## Error Handling

The function provides comprehensive error handling:

- **Invalid JSON**: Clear error messages for syntax issues
- **Invalid Indentation**: Validation of indentation type parameter  
- **Size Limits**: Protection against excessive memory usage (10MB max)
- **Empty Input**: Validation against empty JSON strings

## Performance Notes

- Maximum input size: 10MB
- Warning threshold: 1MB (logs performance warning)
- Optimized for typical configuration file sizes
- Efficient JSON validation and formatting

## Best Practices

1. **Validate JSON**: Ensure your JSON is valid before formatting
2. **Choose Consistent Indentation**: Use the same indentation style across your project
3. **Consider File Size**: Split very large JSON into smaller files
4. **Use with Local Files**: Pairs well with `local_file` resource

## Troubleshooting

**Error: "Invalid JSON syntax detected"**
- Verify JSON syntax with a validator
- Check for missing quotes, trailing commas, or unescaped characters

**Error: "Invalid indentation type"**  
- Valid options: `"2spaces"`, `"4spaces"`, `"tab"`
- Check spelling and quotes

**Error: "JSON input cannot be empty"**
- Ensure input string is not empty
- Verify `jsonencode()` produces valid output
